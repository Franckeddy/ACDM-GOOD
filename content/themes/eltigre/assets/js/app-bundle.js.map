{"version":3,"sources":["dev/js/App.js","dev/js/Device.js","dev/js/class/Barba.js"],"names":["window","NodeList","prototype","forEach","Array","App","scrollMagicController","ScrollMagic","Controller","scenes","revealManager","debugManager","_this","document","querySelectorAll","el","tween","TweenLite","fromTo","y","autoAlpha","ease","Quad","easeOut","scene","Scene","triggerElement","triggerHook","duration","clientHeight","setTween","addTo","push","debugGrid","querySelector","gridBck","getComputedStyle","backgroundImage","addEventListener","ev","keyCode","mainWrapper","wrapperStyle","style","destroy","ElTigreBarba","Device","innerWidth","DocumentTouch","Barba","init","sync","transitions","leave","current","next","trigger","Promise","resolve","to","container","x","onComplete","display","e","console","log","enter","anchorTarget","url","href","split","pop","scrollPosition","getElementById","offsetTop","scrollTo","from","transform"],"mappings":"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","file":"assets/js/app-bundle.js","sourcesContent":["import ScrollMagic from 'scrollmagic'\nimport TweenLite from 'gsap'\n\n\nif (window.NodeList && !NodeList.prototype.forEach) {\n    NodeList.prototype.forEach = Array.prototype.forEach;\n}\nexport default class App {\n\n    constructor() {\n        this.scrollMagicController = new ScrollMagic.Controller()\n        this.scenes = [];\n        \n        this.revealManager();\n        this.debugManager();\n    }\n\n    revealManager() {\n        let _this = this;\n\n        document.querySelectorAll('[gsap-reveal]').forEach(el => {\n            let tween = TweenLite.fromTo(el, 1, {y:40, autoAlpha:0}, {y:0, autoAlpha:1, ease:Quad.easeOut});\n            \n\t\t\tlet scene = new ScrollMagic.Scene({triggerElement: el, triggerHook: 0.95, duration: window.clientHeight / 3})\n\t\t\t\t.setTween(tween)\n                .addTo(this.scrollMagicController);\n                \n            _this.scenes.push(scene);\n        })\n    }\n\n    debugManager () {\n        const debugGrid = document.querySelector('.susy-grid');\n        const gridBck = window.getComputedStyle(debugGrid).backgroundImage;\n        window.addEventListener('keypress', function (ev) {\n            if (ev.keyCode == 100) {\n                const mainWrapper = document.querySelector('.main-wrapper');\n                const wrapperStyle = window.getComputedStyle(mainWrapper)\n                if (wrapperStyle.backgroundImage == 'none') {\n                    mainWrapper.style.backgroundImage = gridBck;\n                } else {\n                    mainWrapper.style.backgroundImage = 'none';\n                }\n            }\n        });\n    }\n\n    static destroy () {\n        this.scrollMagicController.destroy(true);\n\t\tthis.scrollMagicController = null;\n\t\tthis.scenes = [];\n    }\n};\n\n\ndocument.addEventListener(\"DOMContentLoaded\", function(ev) {\n    new App();\n    new ElTigreBarba();\n});\n","export default class Device {\n    static isMobile() {\n        return window.innerWidth < 768;\n    }\n\n    static isTouchDevice() {\n        return (window.DocumentTouch && document instanceof DocumentTouch);\n    }     \n};","import Barba from '@barba/core';\nimport TweenLite from 'gsap';\nimport App from '../App.js';\n\n\nexport default class ElTigreBarba {\n    constructor() {\n        Barba.init({\n            sync: true,\n            transitions: [{\n                leave({ current, next, trigger }) {\n                    try {\n                        return new Promise(resolve => {\n                            TweenLite.to(current.container, 0.75, \n                                {autoAlpha: 0, x: 150, onComplete: () => {\n                                    current.container.style.display = 'none';\n                                    resolve();\n                                } }\n                            );\n                        })\n                    } catch (e) {\n                        console.log('Barba: ' + e);\n                    }\n                },\n\n                enter({ current, next, trigger }) {\n                    console.log(next);\n                    try {\n                        return new Promise(resolve => {\n                            const anchorTarget = next.url.href.split('#').pop();\n                            const scrollPosition = document.getElementById(anchorTarget) ? document.getElementById(anchorTarget).offsetTop - 150 : 0;\n                            window.scrollTo(0, scrollPosition);\n                            \n                            new App();\n    \n                            TweenLite.from(next.container, 0.75, \n                                {autoAlpha: 0, x: -150, onComplete: () => {\n                                    next.container.style.transform = 'none';\n                                    resolve();\n\n                                }}\n                            );\n                        });\n                    } catch (e) {\n                        console.log('Barba: ' + e);\n                    }\n                },\n            }]\n        });\n    }\n}"]}